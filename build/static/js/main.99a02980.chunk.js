(this.webpackJsonpskincare=this.webpackJsonpskincare||[]).push([[0],{271:function(e,t,n){},272:function(e,t,n){},487:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(45),i=n.n(a),o=(n(271),n(272),n(258)),s=n(13),u=n(111),l=n(49),d=n(115),j=n(114),b=n(40),p=n(506),f=n(9),h=n(515),g=n(507),O=n(508),x=n(491),m=n(509),v=n(514),y=n(510),k=n(85),S=(n(273),n(489),n(275),k.a.initializeApp({apiKey:"AIzaSyBedqE9f5jZgV6norZuzhMD7ahI3Ou82as",authDomain:"skincare-789bd.firebaseapp.com",projectId:"skincare-789bd",storageBucket:"skincare-789bd.appspot.com",messagingSenderId:"617410021385",appId:"1:617410021385:web:5b0dd764285ba423ffd0d8",measurementId:"G-6262JN1WXB"})),C=k.a.firestore(),I=k.a.auth(),w=new k.a.auth.GoogleAuthProvider,R=n(4),A=Object(p.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,maxWidth:960,marginTop:e.spacing(5),margin:"auto"},container:{marginBottom:e.spacing(2)},button:{marginLeft:e.spacing(2)}}})),B=Object(f.a)({root:{color:"#52af77",height:2},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(h.a);function D(){var e=A(),t=S.auth().currentUser,n=C.collection("users"),r=Object(c.useState)(30),a=Object(b.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)(30),u=Object(b.a)(s,2),l=u[0],d=u[1];if(null!=t)var j=t.email,p=n.doc(t.email);return Object(R.jsx)("div",{className:e.root,children:Object(R.jsx)(g.a,{children:Object(R.jsxs)(O.a,{className:e.paper,children:[Object(R.jsx)(g.a,{className:e.container,children:Object(R.jsx)(x.a,{gutterBottom:!0,children:"Customization Engine"})}),Object(R.jsxs)(m.a,{container:!0,spacing:2,justify:"center",alignItems:"center",children:[Object(R.jsx)(m.a,{item:!0,xs:4,sm:2,children:Object(R.jsx)(x.a,{children:"Ingredient 1"})}),Object(R.jsx)(m.a,{item:!0,xs:8,sm:4,children:Object(R.jsx)(B,{valueLabelDisplay:"auto","aria-label":"pretto slider",value:i,onChange:function(e,t){o(t)}})})]}),Object(R.jsxs)(m.a,{container:!0,spacing:2,justify:"center",alignItems:"center",children:[Object(R.jsx)(m.a,{item:!0,xs:4,sm:2,children:Object(R.jsx)(x.a,{children:"Ingredient 2"})}),Object(R.jsx)(m.a,{item:!0,xs:8,sm:4,children:Object(R.jsx)(B,{valueLabelDisplay:"auto","aria-label":"pretto slider",value:l,onChange:function(e,t){d(t)}})})]}),Object(R.jsx)(v.a,{pt:2,children:Object(R.jsxs)(m.a,{container:!0,children:[Object(R.jsx)(m.a,{container:!0,item:!0,justify:"flex-start",xs:6,children:Object(R.jsx)(y.a,{variant:"outlined",size:"small",children:"Reset"})}),Object(R.jsxs)(m.a,{container:!0,item:!0,justify:"flex-end",xs:6,children:[Object(R.jsx)(y.a,{variant:"outlined",size:"small",className:e.button,onClick:function(){t?(console.log(i,l,j),p.get().then((function(e){e.exists?n.doc(j).update({product:{ingredient1:i,ingredient2:l}}).then((function(){alert("Document successfully updated!"),console.log("Document successfully updated!")})):n.doc(j).set({userEmail:j,product:{productId:"mockProduct 1",ingredient1:i,ingredient2:l}}).then((function(){alert("Document successfully created!"),console.log("Document successfully created!")}))}))):I.signInWithPopup(w).then((function(){alert("Please click save button again after logged in (to be enhance)"),console.log("middleware to check auth is success before call an api")}))},children:"Save"}),Object(R.jsx)(y.a,{variant:"outlined",size:"small",className:e.button,children:"Buy"})]})]})})]})})})}var z=n(511);function E(){return Object(R.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(R.jsx)(z.a,{color:"inherit",href:"/",children:"Yourcare"})," ",(new Date).getFullYear(),"."]})}var L=Object(p.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(0,0)}}}));function F(e){var t=L(),n=e.description,c=e.title;return Object(R.jsx)("footer",{className:t.footer,children:Object(R.jsxs)(g.a,{maxWidth:"lg",children:[Object(R.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:c}),Object(R.jsx)(x.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:n}),Object(R.jsx)(E,{})]})})}var N=n(512),T=n(513),U=n(251),W=n.n(U),q=r.a.createContext(),P=function(e){var t=e.children,n=Object(c.useState)(!0),r=Object(b.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(null),s=Object(b.a)(o,2),u=s[0],l=s[1];return Object(c.useEffect)((function(){S.auth().onAuthStateChanged((function(e){l(e),i(!1)}))}),[]),a?Object(R.jsx)("p",{children:"Loading..."}):Object(R.jsx)(q.Provider,{value:{currentUser:u},children:t})};var G=function(){var e=Object(c.useContext)(q).currentUser;return Object(R.jsx)("div",{children:e?Object(R.jsx)(y.a,{onClick:function(){I.signOut()},variant:"outlined",size:"small",children:"Log out"}):Object(R.jsx)(y.a,{onClick:function(){I.signInWithPopup(w)},variant:"outlined",size:"small",children:"Log in"})})},J=Object(p.a)((function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto"},toolbarLink:{padding:e.spacing(1),flexShrink:0}}}));function M(e){var t=J(),n=e.title;return Object(R.jsx)(r.a.Fragment,{children:Object(R.jsxs)(N.a,{className:t.toolbar,children:[Object(R.jsx)(y.a,{size:"small",children:"Yourcare"}),Object(R.jsx)(x.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0,className:t.toolbarTitle,children:n}),Object(R.jsx)(T.a,{children:Object(R.jsx)(W.a,{})}),Object(R.jsx)(G,{})]})})}var Y=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(M,{}),Object(R.jsx)(D,{}),Object(R.jsx)(F,{})]})}}]),n}(c.Component),X=n(60),Z=n(31),K=n(58),V=Object(Z.b)("api/callBegan"),$=Object(Z.b)("api/callSuccess"),H=Object(Z.b)("api/callFailed"),Q=n(164),_=n.n(Q),ee=Object(Z.c)({name:"bugs",initialState:{list:[],loading:!1,lastFetch:null},reducers:{bugsRequested:function(e,t){e.loading=!0},bugsReceived:function(e,t){e.list=t.payload,e.loading=!1,e.lastFetch=Date.now()},bugsRequestFailed:function(e,t){e.loading=!1},bugAssignedToUser:function(e,t){var n=t.payload,c=n.id,r=n.userId,a=e.list.findIndex((function(e){return e.id===c}));e.list[a].userId=r},bugAdded:function(e,t){e.list.push(t.payload)},bugResolved:function(e,t){var n=e.list.findIndex((function(e){return e.id===t.payload.id}));e.list[n].resolved=!0}}}),te=ee.actions,ne=(te.bugAdded,te.bugResolved),ce=(te.bugAssignedToUser,te.bugsReceived),re=te.bugsRequested,ae=te.bugsRequestFailed,ie=ee.reducer,oe="/bugs",se=function(){return function(e,t){var n=t().entities.bugs.lastFetch;if(!(_()().diff(_()(n),"minutes")<10))return e(V({url:oe,onStart:re.type,onSuccess:ce.type,onError:ae.type}))}},ue=function(e){return V({url:"/bugs/"+e,method:"patch",data:{resolved:!0},onSuccess:ne.type})},le=Object(K.a)((function(e){return e.entities.bugs}),(function(e){return e.entities.projects}),(function(e,t){return e.list.filter((function(e){return!e.resolved}))})),de=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.loadBugs()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return Object(R.jsx)("ul",{children:this.props.bugs.map((function(t){return Object(R.jsxs)("li",{children:[t.description,Object(R.jsx)("button",{onClick:function(){return e.props.resolveBug(t.id)},children:"Resolve"})]},t.id)}))})}}]),n}(c.Component),je=Object(X.b)((function(e){return{bugs:le(e)}}),(function(e){return{loadBugs:function(){return e(se())},resolveBug:function(t){return e(ue(t))}}}))(de),be=n(33),pe=n(25),fe=n(254),he=n(255),ge=0,Oe=Object(Z.c)({name:"projects",initialState:[],reducers:{projectAdded:function(e,t){e.push({id:++ge,name:t.payload.name})}}}),xe=(Oe.actions.projectAdded,Oe.reducer),me=0,ve=Object(Z.c)({name:"users",initialState:[],reducers:{userAdded:function(e,t){e.push({id:++me,name:t.payload.name})}}}),ye=(ve.actions.userAdded,ve.reducer),ke=Object(pe.c)({bugs:ie,projects:xe,users:ye,firebase:fe.firebaseReducer,firestore:he.firestoreReducer}),Se=Object(pe.c)({entities:ke}),Ce=function(e){return function(e){return function(t){if("error"!==t.type)return e(t);console.log("Toastify",t.payload.message)}}},Ie=n(165),we=n.n(Ie),Re=n(256),Ae=n(257),Be=n.n(Ae),De=function(e){var t=e.dispatch;return function(e){return function(){var n=Object(Re.a)(we.a.mark((function n(c){var r,a,i,o,s,u,l,d;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.type===V.type){n.next=2;break}return n.abrupt("return",e(c));case 2:return r=c.payload,a=r.url,i=r.method,o=r.data,s=r.onStart,u=r.onSuccess,l=r.onError,s&&t({type:s}),e(c),n.prev=5,n.next=8,Be.a.request({baseURL:"http://localhost:9001/api",url:a,method:i,data:o});case 8:d=n.sent,t($(d.data)),u&&t({type:u,payload:d.data}),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(5),t(H(n.t0.message)),l&&t({type:l,payload:n.t0.message});case 17:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e){return n.apply(this,arguments)}}()}};var ze=function(){var e=Object(X.c)(),t=Object(X.d)(le);return Object(c.useEffect)((function(){e(se())}),[]),Object(R.jsx)("ul",{children:t.map((function(t){return Object(R.jsxs)("li",{children:[t.description,Object(R.jsx)("button",{onClick:function(){return e(ue(t.id))},children:"Resolve"})]},t.id)}))})};var Ee=function(){return Object(c.useEffect)((function(){C.collection("users").get().then((function(e){e.docs.forEach((function(e){console.log(e.data())}))}))}),[]),Object(R.jsx)("div",{})},Le=Object(Z.a)({reducer:Se,middleware:[].concat(Object(be.a)(Object(Z.d)()),[Ce,De])});var Fe=function(){return Object(R.jsx)(P,{children:Object(R.jsx)(X.a,{store:Le,children:Object(R.jsx)(o.a,{children:Object(R.jsxs)(s.c,{children:[Object(R.jsx)(s.a,{exact:!0,path:"/",component:Y}),Object(R.jsx)(s.a,{exact:!0,path:"/1",component:je}),Object(R.jsx)(s.a,{exact:!0,path:"/2",component:ze}),Object(R.jsx)(s.a,{exact:!0,path:"/3",component:Ee})]})})})})};i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(Fe,{})}),document.getElementById("root"))}},[[487,1,2]]]);
//# sourceMappingURL=main.99a02980.chunk.js.map